function cycleToNextImage(){var e=imageIds[currentImageIndex];currentImageIndex++,currentImageIndex>=imageIds.length&&(currentImageIndex=0);var a={duration:fadeSpeed,queue:!1};$("#"+e).fadeOut(a),$("#"+imageIds[currentImageIndex]).fadeIn(a)}var currentImageIndex=-1,imageIds=new Array,fadeSpeed,SCALING_MODE_NONE=0,SCALING_MODE_STRETCH=1,SCALING_MODE_COVER=2,SCALING_MODE_CONTAIN=3;$.fn.backgroundCycle=function(e){var a=$.extend({imageUrls:[],duration:8e3,fadeSpeed:500,backgroundSize:SCALING_MODE_NONE},e);fadeSpeed=a.fadeSpeed;var t=this.css("margin-top"),r=this.css("margin-right"),i=this.css("margin-bottom"),n=this.css("margin-left");this.is("body")||this.css({position:"relative"});var s=$(document.createElement("div")),d=this.children().detach();s.append(d),imageIds=new Array;for(var c=0;c<a.imageUrls.length;c++){var g="bgImage"+c,o=a.imageUrls[c],I="cycle-bg-image",m=$(document.createElement("div"));m.attr("id",g),m.attr("class",I);var u;switch(a.backgroundSize){default:u=a.backgroundSize;break;case SCALING_MODE_NONE:u="auto";break;case SCALING_MODE_STRETCH:u="100% 100%";break;case SCALING_MODE_COVER:u="cover";break;case SCALING_MODE_CONTAIN:u="contain"}m.css({"background-image":"url('"+o+"')","background-repeat":"no-repeat","background-size":u,"-moz-background-size":u,"-webkit-background-size":u,position:"absolute",left:n,top:t,right:r,bottom:i}),this.append(m),imageIds.push(g)}s.css({position:"absolute",left:n,top:t,right:r,bottom:i}),this.append(s),$(".cycle-bg-image").hide(),$("#"+imageIds[0]).show(),setInterval(cycleToNextImage,a.duration)};